<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - User Management</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- AG Grid CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@30.0.0/styles/ag-grid.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community@30.0.0/styles/ag-theme-alpine.css">
  <style>
    :root {
      --primary-color: #e63946;
      --secondary-color: #457b9d;
      --accent-color: #1d3557;
      --light-color: #f1faee;
      --dark-color: #2b2d42;
      --success-color: #2a9d8f;
      --warning-color: #e9c46a;
      --danger-color: #e63946;
      --gray-light: #f8f9fa;
      --gray-medium: #e9ecef;
      --gray-dark: #495057;
    }
    
    body {
      background-color: #f8f9fc;
      color: var(--text-color);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .navbar-nav {
      color: var(--dark-color);
      font-weight: 500;
      font-size: 16px;
    }

    #currentUser {
      color: var(--dark-color);
      font-weight: 500;
      font-size: 16px;
    }

    #navbarNav{
      margin-bottom: 30px;
      height: 10px;
    }

    #modal-header, .UserCreate{
      background-color: var(--secondary-color) !important;
      color: var(--gray-medium);
    }
    .UserCreate:hover{
      color: var(--gray-medium);
    }
    
    .container {
      margin-top: 30px;
      max-width: 1650px;
    }
    
    .card {
      border: none;
      border-radius: 0.35rem;
      box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
      margin-bottom: 30px;
    }
    
    .card-header {
      background-color: var(--secondary-color);
      color: white;
      font-weight: 600;
      border-bottom: none;
      padding: 1rem 1.35rem;
      border-radius: 0.35rem 0.35rem 0 0 !important;
    }
    
    /* AG Grid Styles */
    .ag-theme-alpine {
      --ag-foreground-color: rgb(0, 0, 0);
      --ag-background-color: #ffffff;
      --ag-header-foreground-color: #ffffff;
      --ag-header-background-color: var(--secondary-color);
      --ag-odd-row-background-color: rgba(241, 250, 238, 0.3);
      --ag-header-column-resize-handle-color: rgba(255, 255, 255, 0.5);
      --ag-grid-border: 1px solid #e0e0e0;
      --ag-border-color: #e0e0e0;
      --ag-row-border-width: 0px;
      --ag-row-border-color: transparent;
      --ag-cell-horizontal-border: 1px dashed #e0e0e0;
      --ag-font-size: 14px;
      --ag-font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      height: 600px;
      width: 100%;
    }

    .ag-theme-alpine .ag-header-cell {
      font-weight: 600;
      font-size: 14px;
    }

    .ag-theme-alpine .ag-cell {
      display: flex;
      align-items: center;
    }

    .ag-theme-alpine .ag-row {
      border-bottom: 1px solid #f0f0f0;
    }

    .ag-theme-alpine .ag-row:hover {
      background-color: rgba(69, 123, 157, 0.1);
    }

    .ag-theme-alpine .ag-row-selected {
      background-color: rgba(69, 123, 157, 0.2);
    }

    .status-badge {
      padding: 0.35em 0.65em;
      font-size: 0.75em;
      font-weight: 700;
      border-radius: 0.25rem;
    }
    
    .badge-user {
      background-color: #36b9cc;
      color: white;
    }
    
    .badge-admin {
      background-color: #1cc88a;
      color: white;
    }
    
    .badge-superadmin {
      background-color: #f6c23e;
      color: white;
    }
    
    .action-buttons .btn {
      margin-right: 5px;
    }
    
    .search-box {
      position: relative;
      margin: 12px 0px 12px 0px;
      width: 340px;
    }
    
    .search-box i {
      position: absolute;
      top: 8px;
      left: 12px;
      color: #d1d3e2;
    }
    
    .search-box input {
      padding-left: 35px;
    }
    
    /* Toast Notification */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1100;
    }
    
    .hidden { 
      display: none; 
    }
    
    .edit-form {
      background-color: #f8f9fa;
      padding: 15px;
      border-radius: 5px;
      margin-top: 10px;
    }

    /* Custom button styles for AG Grid */
    .ag-theme-alpine .btn-grid-action {
      padding: 0.25rem 0.5rem;
      font-size: 0.8rem;
      line-height: 1.5;
      border-radius: 0.2rem;
    }

    .ag-theme-alpine .btn-grid-edit {
      background-color: var(--warning-color);
      border-color: var(--warning-color);
      color: var(--dark-color);
    }

    .ag-theme-alpine .btn-grid-delete {
      background-color: var(--danger-color);
      border-color: var(--danger-color);
      color: white;
    }
  </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <span class="me-3 text-muted" id="currentUser"></span>
                    <button class="btn btn-outline-danger" id="logoutBtn">
                        <i class="bi bi-box-arrow-right"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>
<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="h4 text-gray-800"><i class="bi bi-people-fill me-2"></i>User Management Dashboard</h2>
    <div class="d-flex">
      <button class="btn UserCreate" data-bs-toggle="modal" data-bs-target="#addUserModal">
        <i class="bi bi-plus-circle me-1"></i> Add New User
      </button>
    </div>
  </div>

  <div class="card shadow mb-4">
    <div class="card-header py-0 d-flex justify-content-between align-items-center">
      <h6 class="m-0 font-weight-bold text-white">User List</h6>
      <div class="search-box">
        <i class="bi bi-search"></i>
        <input type="text" class="form-control" id="quickFilterInput" placeholder="Search users...">
      </div>
    </div>
    <div class="card-body">
      <!-- AG Grid container -->
      <div id="userGrid" class="ag-theme-alpine"></div>
    </div>
  </div>
</div>

<!-- Add User Modal -->
<div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-white" id="modal-header">
        <h5 class="modal-title" id="addUserModalLabel">Add New User</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form id="addUserForm">
        <div class="modal-body">
          <div class="mb-3">
            <label for="username" class="form-label">Username</label>
            <input type="text" class="form-control" id="username" required>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" required>
          </div>
          <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" id="password" required>
          </div>
          <div class="mb-3">
            <label for="role" class="form-label">Role</label>
            <select class="form-select" id="role" required>
              <option value="user">User</option>
              <option value="admin">Admin</option>
              {% if user_role == "superadmin" %}
              <option value="superadmin">Superadmin</option>
              {% endif %}
            </select>
          </div>
          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="addStatus">
            <label class="form-check-label" for="editStatus">Active</label>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn UserCreate">Add User</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Edit User Modal -->
<div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header text-white" id="modal-header">
        <h5 class="modal-title" id="editUserModalLabel">Edit User</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form id="editUserForm">
        <div class="modal-body">
          <input type="hidden" id="editUsername">
          <div class="mb-3">
            <label for="editEmail" class="form-label">Email</label>
            <input type="email" class="form-control" id="editEmail" required>
          </div>
          <div class="mb-3">
            <label for="editRole" class="form-label">Role</label>
            <select class="form-select" id="editRole" required>
              <option value="user">User</option>
              <option value="admin">Admin</option>
              {% if user_role == "superadmin" %}
              <option value="superadmin">Superadmin</option>
              {% endif %}
            </select>
          </div>
          <div class="mb-3">
            <label for="editPassword" class="form-label">New Password (leave blank to keep current)</label>
            <input type="password" class="form-control" id="editPassword">
          </div>
          <div class="mb-3 form-check">
            <input type="checkbox" class="form-check-input" id="editStatus" checked>
            <label class="form-check-label" for="editStatus">Active</label>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn UserCreate">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div class="toast-container">
  <div class="toast align-items-center text-white bg-success" role="alert" aria-live="assertive" aria-atomic="true" id="successToast">
    <div class="d-flex">
      <div class="toast-body">
        <i class="bi bi-check-circle-fill me-2"></i>
        <span id="toastMessage">Operation completed successfully!</span>
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-labelledby="deleteConfirmLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content rounded-3 shadow">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="deleteConfirmLabel">Confirm Delete</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p id="deleteConfirmMessage">Are you sure you want to delete this user?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
      </div>
    </div>
  </div>
</div>

<!-- AG Grid and other scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ag-grid-community@30.0.0/dist/ag-grid-community.min.js"></script>
<script>
// Global variables
let users = [];
let userToDelete = null;
let token = localStorage.getItem('access_token');
let refreshTokens = localStorage.getItem('refresh_token');
let roles = localStorage.getItem('role');
let gridApis = null;
let refreshTimers = null;

// DOM elements
const quickFilterInput = document.getElementById('quickFilterInput');
const logoutBtn = document.getElementById('logoutBtn');
const currentUserSpan = document.getElementById('currentUser');
const successToast = new bootstrap.Toast(document.getElementById('successToast'));

// Check authentication status
function checkAuth() {
  if (token) {
    // User is authenticated
    logoutBtn.innerHTML = '<i class="bi bi-box-arrow-right"></i> Logout';
    logoutBtn.onclick = handleLogout;

    try {
      const payload = JSON.parse(atob(token.split('.')[1]));
      if (payload.sub) {
        currentUserSpan.textContent = `Logged in as: ${payload.sub}`;
        const expiresIn = payload.exp - Math.floor(Date.now() / 1000);
        if (expiresIn > 60) {
          scheduleTokenRefresh(Math.floor(expiresIn / 60));
        }
      }
    } catch (e) {
      console.error("Error decoding token", e);
    }
  } else {
    // User is not authenticated
    logoutBtn.innerHTML = '<i class="bi bi-box-arrow-in-right"></i> Login';
    logoutBtn.onclick = () => window.location.href = '/login';
    currentUserSpan.textContent = '';
  }
}

// Handle logout
function handleLogout() {
  showToast('You are logged out', 'danger');
  setTimeout(() => {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
    localStorage.removeItem('role');
    window.location.href = '/';
  }, 1000);
}

// Schedule token refresh
function scheduleTokenRefresh(expiresInMinutes = 15) {
  const refreshTime = (expiresInMinutes - 1) * 60 * 1000;
  if (refreshTimers) {
    clearTimeout(refreshTimers);
  }

  refreshTimers = setTimeout(async () => {
    await refreshAccessToken();
    const newToken = localStorage.getItem('access_token');
    if (newToken) {
      const payload = JSON.parse(atob(newToken.split('.')[1]));
      const expiresIn = payload.exp - Math.floor(Date.now() / 1000);
      if (expiresIn > 60) {
        scheduleTokenRefresh(Math.floor(expiresIn / 60));
      }
    }
  }, refreshTime);
}

// Refresh token function
async function refreshAccessToken() {
  try {
    const response = await fetch('/refresh', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${refreshTokens}`
      }
    });

    if (!response.ok) {
      throw new Error("Token refresh failed");
    }

    const data = await response.json();
    token = data.access_token;
    localStorage.setItem('access_token', token);
    return data;
  } catch (error) {
    console.error('Token refresh error:', error);
    handleUnauthorized();
    return null;
  }
}

// Handle unauthorized access
function handleUnauthorized() {
  showToast('Your session has expired. Please log in again.', 'danger');
  setTimeout(() => {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
    localStorage.removeItem('role');
    window.location.href = '/login';
  }, 2000);
}

// Enhanced fetch function with token refresh
async function authFetch(url, options = {}) {
  if (!options.headers) {
    options.headers = {};
  }
  
  // Add authorization header if token exists
  if (token) {
    options.headers['Authorization'] = `Bearer ${token}`;
  }
  options.headers['Content-Type'] = 'application/json';

  try {
    let response = await fetch(url, options);
    
    // If token expired, try to refresh it
    if (response.status === 401) {
      try {
        const refreshResponse = await refreshAccessToken();
        if (!refreshResponse) {
          handleUnauthorized();
          return null;
        }

        // Retry original request with new token
        options.headers['Authorization'] = `Bearer ${refreshResponse.access_token}`;
        response = await fetch(url, options);

        if (!response.ok) {
          throw new Error("Request failed after token refresh");
        }
      } catch (refreshError) {
        console.error("Token refresh failed:", refreshError);
        handleUnauthorized();
        return null;
      }
    }

    // Handle 403 Forbidden
    if (response.status === 403) {
      const error = await response.json();
      showToast(error.detail || 'You do not have permission to access this resource', 'error');
      return null;
    }

    // Handle other errors
    if (!response.ok) {
      const error = await response.json();
      throw new Error(error.detail || "Request failed");
    }

    // Check for new token in headers
    const newToken = response.headers.get('X-New-Access-Token');
    if (newToken) {
      token = newToken;
      localStorage.setItem('access_token', newToken);
    }

    return response;
  } catch (error) {
    console.error("API request error:", error);
    showToast(error.message || "Request failed", "error");
    return null;
  }
}

// Fetch current user info
async function fetchCurrentUser() {
  try {
    const response = await authFetch('/protected');
    
    if (!response) return;
    
    const userData = await response.json();
    currentUserSpan.textContent = `Logged in as: ${userData.message.split(' ')[1]}`;
  } catch (error) {
    console.error('Error fetching current user:', error);
    handleUnauthorized();
  }
}

// Fetch users from API
async function fetchUsers() {
  try {
    const response = await authFetch('/users');

    if (!response) return;
    
    users = await response.json();
    setupGrid();
  } catch (error) {
    console.error('Error fetching users:', error);
    showToast('Error fetching users', 'danger');
  }
}

// AG Grid Setup with Reinitialization
function setupGrid() {
  const gridDiv = document.querySelector('#userGrid');

  // Reinitialize: destroy previous grid
  if (gridApis) {
    gridApis.destroy();
    gridDiv.innerHTML = '';
  }

  const gridOptions = {
    columnDefs: [
      { headerName: "Username", field: "username", sortable: true, filter: true, checkboxSelection: true, headerCheckboxSelection: true, width: 200 },
      { headerName: "Email", field: "email", sortable: true, filter: true, width: 250 },
      { headerName: "Role", field: "role", sortable: true, filter: true, cellRenderer: roleRenderer, width: 150 },
      { headerName: "Status", field: "is_active", sortable: true, filter: true, cellRenderer: statusRenderer, width: 120 },
      { headerName: "Actions", field: "username", cellRenderer: actionRenderer, width: 200, pinned: 'right' }
    ],
    defaultColDef: {
      resizable: true,
      filter: 'agTextColumnFilter',
      floatingFilter: true,
    },
    rowData: users,
    rowSelection: 'multiple',
    animateRows: true,
    pagination: true,
    paginationPageSize: 10,
    domLayout: 'autoHeight',
    onGridReady: (params) => {
      params.api.sizeColumnsToFit();
      gridApis = params.api;  // Store instance
    }
  };

  new agGrid.Grid(gridDiv, gridOptions);

  quickFilterInput.addEventListener('input', () => {
    gridApis.setQuickFilter(quickFilterInput.value);
  });
}

function roleRenderer(params) {
  let badgeClass = 'badge-user';
  if (params.value === 'admin') badgeClass = 'badge-admin';
  if (params.value === 'superadmin') badgeClass = 'badge-superadmin';
  return `<span class="status-badge ${badgeClass}">${params.value}</span>`;
}

function statusRenderer(params) {
  return params.value 
    ? '<span class="badge bg-success">Active</span>'
    : '<span class="badge bg-secondary">Inactive</span>';
}

function actionRenderer(params) {
  return `
    <div class="action-buttons">
      <button class="btn btn-sm btn-warning btn-grid-action btn-grid-edit" onclick="openEditModal('${params.value}')">
        <i class="bi bi-pencil"></i> Edit
      </button>
      <button class="btn btn-sm btn-danger btn-grid-action btn-grid-delete" onclick="confirmDelete('${params.value}')">
        <i class="bi bi-trash"></i> Delete
      </button>
    </div>`;
}

function showToast(message, type = "info") {
  const toast = document.createElement("div");
  toast.style.position = "fixed";
  toast.style.bottom = "20px";
  toast.style.right = "20px";
  toast.style.padding = "12px 20px";
  toast.style.borderRadius = "8px";
  toast.style.color = "white";
  toast.style.fontWeight = "500";
  toast.style.boxShadow = "0 4px 12px rgba(0,0,0,0.15)";
  toast.style.zIndex = "1000";
  toast.style.transition = "all 0.3s ease";
  toast.style.transform = "translateY(20px)";
  toast.style.opacity = "0";

  switch (type) {
    case "success":
      toast.style.backgroundColor = "var(--success-color)";
      break;
    case "error":
      toast.style.backgroundColor = "var(--danger-color)";
      break;
    case "warning":
      toast.style.backgroundColor = "var(--warning-color)";
      toast.style.color = "var(--dark-color)";
      break;
    default:
      toast.style.backgroundColor = "var(--secondary-color)";
  }

  toast.textContent = message;
  document.body.appendChild(toast);

  setTimeout(() => {
    toast.style.transform = "translateY(0)";
    toast.style.opacity = "1";
  }, 10);

  setTimeout(() => {
    toast.style.opacity = "0";
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 300);
  }, 3000);
}

document.getElementById('addUserForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const user = {
    username: document.getElementById('username').value,
    email: document.getElementById('email').value,
    password: document.getElementById('password').value,
    role: document.getElementById('role').value,
    is_active: document.getElementById('addStatus').checked
  };
  try {
    const response = await authFetch('/users', {
      method: 'POST',
      body: JSON.stringify(user)
    });
    if (!response) return;

    const modal = bootstrap.Modal.getInstance(document.getElementById('addUserModal'));
    modal.hide();
    e.target.reset();
    await fetchUsers();  // Will refresh and rebuild grid
    showToast('User added successfully!');
  } catch (error) {
    console.error('Error adding user:', error);
    showToast('Error adding user', 'danger');
  }
});

async function openEditModal(username) {
  const user = users.find(u => u.username === username);
  if (!user) return;
  document.getElementById('editUsername').value = user.username;
  document.getElementById('editEmail').value = user.email;
  document.getElementById('editRole').value = user.role;
  document.getElementById('editStatus').checked = user.is_active;
  document.getElementById('editPassword').value = '';
  new bootstrap.Modal(document.getElementById('editUserModal')).show();
}

document.getElementById('editUserForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const username = document.getElementById('editUsername').value;
  const updateData = {
    email: document.getElementById('editEmail').value,
    role: document.getElementById('editRole').value,
    is_active: document.getElementById('editStatus').checked
  };
  const newPassword = document.getElementById('editPassword').value;
  if (newPassword) updateData.password = newPassword;
  try {
    const response = await authFetch(`/users/${username}`, {
      method: 'PUT',
      body: JSON.stringify(updateData)
    });
    if (!response) return;
    
    bootstrap.Modal.getInstance(document.getElementById('editUserModal')).hide();
    await fetchUsers();
    showToast('User updated successfully!');
  } catch (error) {
    console.error('Error updating user:', error);
    showToast('Error updating user', 'danger');
  }
});

function confirmDelete(username) {
  userToDelete = username;
  document.getElementById('deleteConfirmMessage').textContent = `Are you sure you want to delete user "${username}"? This action cannot be undone.`;
  new bootstrap.Modal(document.getElementById('deleteConfirmModal')).show();
}

document.getElementById('confirmDeleteBtn').addEventListener('click', async () => {
  if (userToDelete) {
    await deleteUser(userToDelete);
    userToDelete = null;
    bootstrap.Modal.getInstance(document.getElementById('deleteConfirmModal')).hide();
  }
});

async function deleteUser(username) {
  try {
    const response = await authFetch(`/users/${username}`, {
      method: 'DELETE'
    });
    if (!response) return;
    
    await fetchUsers();  // Will refresh and rebuild grid
    showToast('User deleted successfully!');
  } catch (error) {
    console.error('Error deleting user:', error);
    showToast('Error deleting user', 'danger');
  }
}

document.addEventListener('DOMContentLoaded', () => {
  // Check authentication
  checkAuth();
  
  // Verify tokens are not empty
  if (!token || !refreshTokens || token.trim() === '' || refreshTokens.trim() === '') {
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
    localStorage.removeItem('role');
    window.location.href = '/login';
    return;
  }

  fetchCurrentUser();
  fetchUsers();
  
  // Reset forms when modals are closed
  document.getElementById('addUserModal').addEventListener('hidden.bs.modal', () => {
    document.getElementById('addUserForm').reset();
  });
  
  document.getElementById('editUserModal').addEventListener('hidden.bs.modal', () => {
    document.getElementById('editUserForm').reset();
  });
});
</script>

</body>
</html>